from PostGISHelpers import *from WebOSM import *# Example query using python PostGIS socket# main_dt = {}# main_dt['db_setup'] = {# 'db': "reiners_db",# 'host': '192.168.10.25',# 'port': 5432,# 'user': 'Andi',# 'pwd_filepath': '/Users/blubber/.db_connections.config'}# main_dt['db_setup'] = {#     'db': "osm",#     'host': 'localhost',#     'port': 5432,#     'user': 'postgres_andi',#     'pwd_filepath': '/Users/blubber/.db_connections.config'}# main_dt['query_features'] = {'schema': 'public',# 'table': 'brandenburg_polygon',# 'geom_type': 'Polygon',# 'geom_col': 'way',# 'id_col': 'osm_id',# 'select_cols': ['osm_id', 'name', 'amenity'],# 'where_cond': "amenity='kindergarten' ",# 'SRID': 4326}# Fetch geometries ("All kindergardens in Wustermark (Brandenburg county)")# result = fetch_geoms(main_dt,# boundary='/Users/blubber/Documents/TEMP/wustermark_extend.shp',# summary_table=True)# plot_view(result=result)# main_dt['query_features'] = {'schema': 'public',#                              'table': 'brandenburg_line',#                              'geom_type': 'LineString',#                              'geom_col': 'way',#                              'id_col': 'osm_id',#                              'select_cols': ['osm_id', 'power', 'voltage'],#                              'where_cond': "power<>'None' ",#                              'SRID': 4326}# Fetch geometries ("complete electricity network in Germany")# result = fetch_geoms(main_dt,#                      boundary='/Users/blubber/Documents/TEMP/wustermark_extend.shp',#                      summary_table=True)# view2shp(result, '/Users/blubber/Documents/TEMP/powerlines_wustermark.shp')# plot_view(result=result)# Fetch admin boundary from lat/lon# res = fetch_admin_from_latlon(lat=52.12, lon=12)# print(res)# ---database = {'db': "osm",            'host': 'localhost',            'port': 5432,            'user': 'postgres_andi'}query_features = {'schema': 'public',                  'table': 'brandenburg_line',                  'geom_type': 'LineString',                  'geom_col': 'way',                  'id_col': 'osm_id',                  'select_cols': ['osm_id', 'power', 'voltage'],                  'where_cond': "power<>'None' ",                  'SRID': 4326}q = Query(name='powerlines_wustermark')q.create_where_query(feat=query_features, bbox=None)q.fetch_geoms(source_db=database,              boundary='/Users/blubber/Documents/TEMP/wustermark_extend.shp')# q.print_results()# q.export2shp('/Users/blubber/Documents/TEMP/bla.shp')